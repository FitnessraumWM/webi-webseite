<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Verein Weberm√ºhle ‚Äì Klosterr√ºti</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: #fff;
      color: #222;
      scroll-behavior: smooth;
    }
    header {
      background: url('webermuehle-gesamt.jpg') center/cover no-repeat;
      min-height: 92vh;
      color: white;
      position: relative;
      text-align: center;
      overflow: hidden;
    }
    .logos-left, .logos-right {
      position: absolute;
      top: 22px;
      height: 132px;
      z-index: 10;
      background: none;
    }
    .logos-left { left: 18px; }
    .logos-right { right: 18px; }
    .logos-left img, .logos-right img { height: 100%; }

    /* Mobile Logos besser trennen */
    @media (max-width: 650px) {
      .logos-left, .logos-right {
        height: 63px;
        top: 10px;
      }
      .logos-left { left: 7px; }
      .logos-right { right: 7px; }
    }

    /* ======= BANNER (Sommerfest-Timer) ======= */
    .sommerfest-timer-container {
      position: absolute;
      left: 50%;
      top: 31vh;
      transform: translateX(-50%) rotate(-7deg);
      z-index: 9;
      background: rgba(32,32,32, 0.85);
      border-radius: 0.9em;
      box-shadow: 0 0 10px #0008;
      padding: 0.8em 2em 1em 2em;
      pointer-events: none;
      max-width: 470px;
      min-width: 195px;
      text-align: center;
      font-size: 1.07em;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.17em;
    }
    .sommerfest-label {
      color: #ffe066;
      font-size: 1.22em;
      font-weight: bold;
      letter-spacing: 0.01em;
      text-shadow: 1px 2px 7px #000a;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.19em;
      margin-bottom: 0.10em;
    }
    .sommerfest-label .emoji { font-size: 1.2em; margin: 0 0.06em; }
    .sommerfest-countdown {
      color: #fff;
      font-size: 1.08em;
      font-family: 'Consolas', 'Courier New', monospace;
      font-weight: 800;
      text-shadow: 1px 2px 8px #000b;
      letter-spacing: 0.03em;
      margin-top: 0.1em;
    }
    @media (max-width: 950px) {
      .sommerfest-timer-container {
        font-size: 0.92em;
        max-width: 75vw;
        min-width: 120px;
        top: 18vh;
        padding: 0.7em 1em 1em 1em;
      }
    }
    @media (max-width: 650px) {
      .sommerfest-timer-container {
        font-size: 0.67em;
        max-width: 99vw;
        min-width: 1px;
        left: 50%;
        top: 15vh;
        padding: 0.55em 0.5em 0.75em 0.5em;
      }
      .sommerfest-label { font-size: 1.1em; }
      .sommerfest-countdown { font-size: 1em; }
    }
    /* ======= Willkommen-Schrift ======= */
    .welcome-headline {
      position: relative;
      z-index: 5;
      width: 100vw;
      margin-top: 25vh;
      font-size: 3.3rem;
      font-weight: 900;
      letter-spacing: 0.03em;
      color: #fff;
      text-shadow: 3px 3px 12px #000c, 0 2px 8px #444b;
      pointer-events: none;
      line-height: 1.15;
      text-align: center;
    }
    @media (max-width: 900px) {
      .welcome-headline { font-size: 2.1rem; margin-top: 18vh;}
    }
    @media (max-width: 500px) {
      .welcome-headline { font-size: 1.16rem; margin-top: 8vh;}
    }
    nav {
      position: sticky;
      top: 0;
      background: #2d2d2d;
      color: white;
      display: flex;
      justify-content: center;
      gap: 2em;
      font-size: 1.13em;
      font-weight: bold;
      padding: 0.5em 1em 0.5em 1em;
      z-index: 100;
      transition: top 0.44s cubic-bezier(.77,0,.18,1.05);
    }
    nav a {
      color: white;
      text-decoration: none;
      transition: color 0.2s;
      border-radius: 3px;
      padding: 0 0.2em;
    }
    nav a:hover {
      color: #ffe066;
      text-decoration: underline;
    }
    nav button#themeSwitcher {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.1em;
      cursor: pointer;
      margin-left: 0.4em;
      border-radius: 6px;
      padding: 0.1em 0.2em;
      transition: background 0.22s, color 0.22s;
    }
    nav button#themeSwitcher:hover { background: #444; color: #ffd700; }
    @media (max-width: 820px) {
      nav { gap: 0.9em; font-size: 1em; }
    }
    @media (max-width: 570px) {
      nav { gap: 0.37em; font-size: 0.92em; flex-wrap: wrap; }
    }

    section {
      padding: 3em 1em 1.2em 1em;
      max-width: 1000px;
      margin: auto;
      background: #fff;
      color: #222;
    }
    h2 {
      border-bottom: 2px solid #d4d4d4;
      padding-bottom: 0.38em;
      margin-top: 0;
    }
    /* Galerie-Bilder */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 1em;
      margin-top: 1em;
    }
    .gallery img {
      width: 100%;
      aspect-ratio: 1/1;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 0 6px #aaa3;
      cursor: zoom-in;
      transition: box-shadow 0.2s, transform 0.23s cubic-bezier(.22,1,.36,1.07);
    }
    .gallery img:hover {
      box-shadow: 0 0 18px #444b;
      transform: scale(1.05);
    }
    .spielgruppe-logo { margin-bottom: 0.5em; }
    .spielgruppe-logo img {
      height: 85px; width: auto;
      margin-bottom: 0.5em; margin-top: 0.2em;
    }
    .contact-link {
      color: inherit !important;
      text-decoration: underline dotted #aaa;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.2s;
    }
    .contact-link:hover, .contact-link:focus {
      color: #888; text-decoration: underline solid #888;
    }
    footer {
      background: #f2f2f2;
      padding: 2em 1em 1.3em 1em;
      text-align: center;
      font-size: 1em;
      color: #333;
    }
    /* Modal f√ºr Bildvorschau */
    #modalOverlay {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.89);
      align-items: center;
      justify-content: center;
    }
    #modalOverlay.active { display: flex; }
    #modalOverlay img {
      max-width: 90vw;
      max-height: 85vh;
      border-radius: 12px;
      background: #fff;
      object-fit: contain;
      transform: scale(0.7);
      opacity: 0;
      transition: transform 0.22s cubic-bezier(.22,1,.36,1.07), opacity 0.16s;
      cursor: pointer;
    }
    #modalOverlay.active img {
      transform: scale(1.0); opacity: 1;
    }
    #modalOverlay .closeModal {
      position: absolute;
      top: 30px; right: 45px;
      font-size: 3rem;
      color: #fff;
      cursor: pointer;
      font-family: Arial, sans-serif;
      z-index: 10;
      user-select: none;
    }
    /* Darkmode */
    body.dark {
      background: #16191c; color: #ddd;
    }
    body.dark section, body.dark footer {
      background: #222; color: #ddd;
    }
    body.dark nav { background: #232323; color: #eee; }
    body.dark nav a { color: #eee; }
    body.dark nav a:hover { color: #ffe066; }
    body.dark .sommerfest-timer-container { background: rgba(15,15,15,0.92); }
    body.dark .sommerfest-label { color: #ffe066; }
    body.dark footer { color: #bbb; }
  </style>
</head>
<body>
  <header>
    <a href="#" class="logos-left"><img src="verein-sofe-logo-w.png" alt="Logo SOFE Webi" /></a>
    <a href="#" class="logos-right"><img src="logo-qv-weiss.png" alt="Logo Quartierverein" /></a>
    <!-- BANNER -->
    <div class="sommerfest-timer-container">
      <div class="sommerfest-label">
        <span class="emoji">‚òÄÔ∏è</span> n√§chstes <b>SOMMERFEST</b> in <span class="emoji">ü•≥</span>
      </div>
      <span class="sommerfest-countdown" id="sommerfest-countdown">00 Tage 00:00:00</span>
    </div>
    <div class="welcome-headline">Willkommen in der Weberm√ºhle</div>
  </header>
  <nav>
    <a href="#historie">Historie</a>
    <a href="#partyraum">Partyraum</a>
    <a href="#rooftop">Rooftop</a>
    <a href="#fitness">Fitnessraum</a>
    <a href="#spielgruppe">Spielgruppe</a>
    <a href="#vereine">Vereine</a>
    <a href="#sommerfest">Sommerfest</a>
    <a href="#kontakt">Kontakt</a>
    <a href="#downloads">Downloads</a>
    <a href="#login">Login</a>
    <button id="themeSwitcher" aria-label="Theme wechseln">üåì</button>
  </nav>

  <!-- ===== SECTIONS, GALLERIES, ALLE TEXTE ===== -->
  <section id="historie">
  <h2>Historie der Weberm√ºhle</h2>
  <p>Die Weberm√ºhle in Neuenhof blickt auf eine bewegte Geschichte zur√ºck, die bis ins 19. Jahrhundert reicht.</p>
  <p>1865 erhielt Johann Wild, Gr√ºnder der Spinnerei Wettingen, eine Konzession zur Nutzung der Wasserkraft auf der linken Limmatseite. In der Folge entstanden dort eine Weberei und eine Spinnerei, die das Industrieareal Damsau pr√§gten. 1901 errichtete Henry Zweifel, Nachfolger von Johann Wild, oberhalb des Areals die repr√§sentative Jugendstilvilla Ermitage.</p>
  <p>1970 musste die Weberei ihren Betrieb einstellen. Noch im selben Jahr √ºbernahm die Z√ºrcher Generalbauunternehmung Ernst G√∂hner AG das rund sechs Hektar grosse Areal mit 25 Geb√§uden. Ziel war die Umgestaltung des Perimeters zu einem modernen Wohnquartier.</p>
  <p>Zwischen 1974 und 1981 entstand die Grosssiedlung Weberm√ºhle mit insgesamt 368 Wohnungen f√ºr etwa 1'500 Bewohnerinnen und Bewohner. Der Entwurf stammt vom Architekten Toni Marti. Die Siedlung besteht aus vier Hochhauszeilen unterschiedlicher L√§nge, die kreuzf√∂rmig zueinander angeordnet sind. Die Scheibenhochh√§user sind zwischen 30 und 150 Meter lang und erreichen eine maximale H√∂he von 13 Geschossen. Um das gewaltige Volumen zu brechen, sind sie in der Vertikalen wie auch in der Tiefe gestaffelt. Am Kreuzungspunkt sind die Zeilen lediglich sechs Geschosse hoch. Hier befindet sich die sogenannte Arena, der wichtigste Begegnungsort und das Herzst√ºck der Grosssiedlung. Der kreisf√∂rmig gestaltete Platz wird durch zehn markante Entl√ºftungsrohre aus rostigem Stahl akzentuiert, die auf die weitl√§ufigen Untergeschosse der √úberbauung hinweisen.</p>
  <p>Die Bauweise erfolgte im Elementbausystem mit vorfabrizierten Betonelementen. Ein Farbkonzept sah urspr√ºnglich ein Puzzle aus Kuben in verschiedenen Beige- und Orangefarbt√∂nen vor. Seit 2012 sind die Fassaden grau-weiss gestaltet und in Felder geteilt, die mit einem Rillenputz eine feine Gliederung erhalten.</p>
  <p>1982 wurde ein Kindergarten mit integriertem Hort errichtet. Das Bauvolumen besteht aus einer feingliedrigen Sichtbetonfassade aus Ortbeton, w√§hrend die Wohnzeilen im Baukastenprinzip errichtet wurden.</p>
  <p>Seit 2008 befindet sich die Weberm√ºhle im Besitz eines Immobilienfonds der Credit Suisse (heute UBS). 2012 begann eine umfassende Renovation des gesamten Areals, bei der insbesondere Badezimmer, K√ºchen, W√§rmed√§mmung und Schallschutz modernisiert wurden.</p>
  <p>Die fl√ºgelradartige Anordnung der Wohnbl√∂cke erinnert an die ehemalige Weberei und gab dem Quartier seinen Namen: Weberm√ºhle.</p>
  <div class="gallery">
    <img src="historie01.jpg" alt="Historisches Bild 1">
    <img src="historie02.jpg" alt="Historisches Bild 2">
    <img src="historie03.jpg" alt="Historisches Bild 3">
    <img src="historie04.jpg" alt="Historisches Bild 4">
    <img src="historie05.jpg" alt="Historisches Bild 5">
    <img src="historie06.jpg" alt="Historisches Bild 6">
    <img src="historie07.jpg" alt="Historisches Bild 7">
    <img src="historie08.jpg" alt="Historisches Bild 8">
    <img src="historie09.jpg" alt="Historisches Bild 9">
    <img src="historie10.jpg" alt="Historisches Bild 10">
    <img src="historie11.jpg" alt="Historisches Bild 11">
    <img src="historie12.jpg" alt="Historisches Bild 12">
  </div>
</section>

<section id="partyraum">
  <h2>Partyraum</h2>
  <p>
    Der Partyraum der Weberm√ºhle kann von allen Bewohner*innen f√ºr Feiern, Kindergeburtstage und Versammlungen genutzt werden. Neben einer kleinen K√ºche stehen Bluetooth-Lautsprecher sowie ein moderner Beamer zur Verf√ºgung ‚Äì ideal f√ºr Pr√§sentationen oder Filmabende.<br>
    <b>Buchung und Infos:</b> Ansprechpartner Michal Janƒçoviƒç, Tel. <a href="tel:+41767090801" class="contact-link">076 709 08 01</a>, oder per <a href="mailto:qv@webi.family" class="contact-link">Mail an Quartierverein</a>
  </p>
  <div class="gallery">
    <img src="partyraum01.jpg" alt="Partyraum 1">
    <img src="partyraum02.jpg" alt="Partyraum 2">
    <img src="partyraum03.jpg" alt="Partyraum 3">
    <img src="partyraum04.jpg" alt="Partyraum 4">
    <img src="partyraum05.jpg" alt="Partyraum 5">
  </div>
</section>

<section id="rooftop">
  <h2>Rooftop</h2>
  <p>
    Unsere grosse Dachterrasse ist der perfekte Ort, um den Tag ausklingen zu lassen ‚Äì mit Grill, Liegest√ºhlen und tollem Blick ins Limmattal. Hier finden regelm√§ssig Quartier-Events und offene Treffen statt.
  </p>
  <div class="gallery">
    <img src="rooftop-01.jpg" alt="Rooftop 01">
    <img src="rooftop-02.jpg" alt="Rooftop 02">
    <img src="rooftop-03.jpg" alt="Rooftop 03">
    <img src="rooftop-04.jpg" alt="Rooftop 04">
    <img src="rooftop-05.jpg" alt="Rooftop 05">
    <img src="rooftop-06.jpg" alt="Rooftop 06">
    <img src="rooftop-07.jpg" alt="Rooftop 07">
    <img src="rooftop-08.jpg" alt="Rooftop 08">
    <img src="rooftop-09.jpg" alt="Rooftop 09">
    <img src="rooftop-10.jpg" alt="Rooftop 10">
  </div>
</section>

<section id="fitness">
  <h2>Fitnessraum</h2>
  <div class="gallery">
    <img src="fitness1.jpg" alt="Fitnessraum 1">
  </div>
  <p>
    Im Fitnessraum der Weberm√ºhle k√∂nnen Bewohner*innen eigenst√§ndig trainieren.<br>
    <b>Reservierung:</b> Online-Terminbuchung erforderlich!<br>
    <b>Wichtig:</b> Vor der ersten Nutzung bitte beim Quartierverein Weberm√ºhle-Klosterr√ºti anmelden.<br>
    <b>Kontakt:</b> <a href="mailto:qv@webi.family" class="contact-link">qv@webi.family</a>
  </p>
</section>

<section id="spielgruppe">
  <h2>Spielgruppe Zwergm√ºhle</h2>
  <div class="spielgruppe-logo">
    <img src="https://github.com/FitnessraumWM/webi-webseite/blob/main/zwergmuehle-logo.png?raw=true" alt="Logo Zwergm√ºhle" />
  </div>
  <p>
    Die Spielgruppe Zwergm√ºhle ist eine privat gef√ºhrte Institution und wird vom Quartierverein Weberm√ºhle getragen.<br>
    <b>Betreuung:</b> Qualifizierte Spielgruppenleiterinnen betreuen Kinder in kleinen, konstanten Gruppen von max. 7‚Äì8 Kindern (ab 2,5 Jahren bis Kindergarteneintritt), jeweils Montag und Donnerstag 09:00‚Äì11:00 Uhr.<br>
    <b>Ort:</b> Weberm√ºhle 23/EG, 5432 Neuenhof<br>
    Auch Kinder, die noch nicht ganz trocken sind, sind willkommen ‚Äì einfach Windeln mitgeben und die Leitung informieren.
  </p>
  <p>
    <b>Kontakt und Anmeldung:</b><br>
    Leitung: Sandra Adamovic, Tel. <a href="tel:+41764040685" class="contact-link">076 404 06 85</a><br>
    E-Mail: <a href="mailto:esiino@hotmail.com" class="contact-link">esiino@hotmail.com</a><br>
    Das Anmeldeformular kann per E-Mail oder telefonisch angefordert werden.
  </p>
  <div class="gallery">
    <img src="spielgruppe01.jpg" alt="Spielgruppe 1">
    <img src="spielgruppe02.jpg" alt="Spielgruppe 2">
    <img src="spielgruppe03.jpg" alt="Spielgruppe 3">
    <img src="spielgruppe04.jpg" alt="Spielgruppe 4">
  </div>
</section>

<section id="vereine">
  <h2>Vereine</h2>
  <p>
    Die Weberm√ºhle ist Heimat verschiedener Vereine und Interessengruppen ‚Äì von Musik und Sport bis Nachbarschaftshilfe und Quartierfeste. Engagiere dich, gr√ºnde einen eigenen Verein oder lerne andere Bewohner*innen kennen.<br>
    <b>Kontakt Quartierverein:</b> <a href="mailto:qv@webi.family" class="contact-link">qv@webi.family</a><br>
    <b>Kontakt Sommerfest &amp; Verein SOFE Webi:</b> <a href="mailto:sommerfest@webi.family" class="contact-link">sommerfest@webi.family</a>
  </p>
</section>

<section id="sommerfest">
  <h2>Sommerfest Weberm√ºhle</h2>
  <p>
    Das Sommerfest in der Weberm√ºhle ist l√§ngst zu einer beliebten Tradition geworden und bringt Nachbar*innen aller Generationen zusammen. Einmal im Jahr verwandelt sich der Dorfplatz vor Haus 21 in einen lebendigen Treffpunkt voller Spiel, Musik und guter Laune.
  </p>
  <p>
    Organisiert wird das Fest von SOFE Webi, unterst√ºtzt durch den Quartierverein Weberm√ºhle-Klosterr√ºti sowie viele freiwillige Helfer*innen aus dem Quartier. Neben einem vielf√§ltigen kulinarischen Angebot gibt es ein buntes Programm f√ºr Kinder und Erwachsene ‚Äì von Sportturnieren und Kreativ-Workshops √ºber Kinderschminken bis hin zu Live-Musik und Tombola.
  </p>
  <p>
    Das Sommerfest ist mehr als nur ein Fest: Es ist die perfekte Gelegenheit, neue Nachbarinnen kennenzulernen, Freundschaften zu vertiefen und gemeinsam unvergessliche Momente zu erleben. F√ºr viele Bewohnerinnen ist es das Highlight des Jahres!
  </p>
  <p>
    Mitmachen ist ausdr√ºcklich erw√ºnscht! Ob als Besucher*in, beim Kuchenbuffet, am Grill, als Sponsor oder mit einer eigenen kleinen Aktion ‚Äì das Sommerfest lebt vom Engagement aller.
  </p>
  <p>
    <b>Kontakt f√ºr Fragen, Anregungen oder Unterst√ºtzung:</b><br>
    SOFE Webi ‚Äì <a href="mailto:sommerfest@webi.family" class="contact-link">sommerfest@webi.family</a>
  </p>
</section>

<section id="downloads">
  <h2>Downloads</h2>
  <ul>
    <li><a href="anmeldungQV.pdf" download>Beitrittsformular Quartierverein Weberm√ºhle-Klosterr√ºti (PDF)</a></li>
    <li><a href="FUBATU.pdf" download>Flyer Football - Tournament 2025 (PDF)</a></li>
    <!-- ...weitere Dateien... -->
  </ul>
</section>

<section id="kontakt">
  <h2>Kontakt</h2>
  <p>
    Du hast Fragen, m√∂chtest einen Raum buchen oder hast ein Anliegen?<br><br>
    <b>Quartierverein:</b> <a href="mailto:qv@webi.family" class="contact-link">qv@webi.family</a><br>
    <b>Partyraum:</b> Michal Jancovic, Tel. <a href="tel:+41767090801" class="contact-link">076 709 08 01</a><br>
    <b>Spielgruppe:</b> Sandra Adamovic, Tel. <a href="tel:+41764040685" class="contact-link">076 404 06 85</a>, <a href="mailto:esiino@hotmail.com" class="contact-link">esiino@hotmail.com</a><br>
    <b>Sommerfest/SOFE Webi:</b> <a href="mailto:sommerfest@webi.family" class="contact-link">sommerfest@webi.family</a>
  </p>
</section>

<section id="login">
  <h2>Interner Bereich</h2>
  <div class="login-links">
    <p><a href="https://github.com/dein-verein" target="_blank" rel="noopener noreferrer">üîó GitHub Repository</a></p>
    <p><a href="https://mail.zoho.eu/zm/" target="_blank" rel="noopener noreferrer">üìß Vereins-E-Mail √∂ffnen</a></p>
  </div>
</section>

  <footer>
    <div id="besucherinfo">Seitenbesuche: ...</div>
    &copy; 2025 Verein Weberm√ºhle &middot; Alle Rechte vorbehalten
  </footer>
  <!-- Modal f√ºr Bildvorschau -->
  <div id="modalOverlay">
    <span class="closeModal" title="Schlie√üen">&times;</span>
    <img src="" alt="Vorschau" />
  </div>
  <script>
    // Men√º Hide on Scroll
    let lastScrollY = window.scrollY, nav = document.querySelector('nav');
    let navHidden = false, ticking = false, navHeight = nav.offsetHeight;
    function handleNavScroll() {
      if (window.scrollY > lastScrollY && window.scrollY > navHeight + 10) {
        if (!navHidden) { nav.style.top = `-${navHeight + 20}px`; navHidden = true; }
      } else {
        if (navHidden) { nav.style.top = '0'; navHidden = false; }
      }
      lastScrollY = window.scrollY; ticking = false;
    }
    window.addEventListener('scroll', () => {
      if (!ticking) { window.requestAnimationFrame(handleNavScroll); ticking = true; }
    });

    // Theme Switcher inkl. Logo-Wechsel
    const themeBtn = document.getElementById('themeSwitcher');
    const body = document.body;
    const logos = {
      sofe: { hell: "verein-sofe-logo-w.png", dunkel: "verein-sofe-logo-s.png" },
      qv: { hell: "logo-qv-weiss.png", dunkel: "logo-qv-schwarz.png" }
    };
    function setTheme(mode) {
      if (mode === 'dark') {
        body.classList.add('dark');
        document.querySelector('.logos-left img').src = logos.sofe.dunkel;
        document.querySelector('.logos-right img').src = logos.qv.dunkel;
        localStorage.setItem('theme', 'dark');
        themeBtn.textContent = "üåû";
      } else {
        body.classList.remove('dark');
        document.querySelector('.logos-left img').src = logos.sofe.hell;
        document.querySelector('.logos-right img').src = logos.qv.hell;
        localStorage.setItem('theme', 'light');
        themeBtn.textContent = "üåô";
      }
    }
    themeBtn.onclick = () => setTheme(body.classList.contains('dark') ? 'light' : 'dark');
    (function() {
      const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      setTheme(theme);
    })();

    // Modale Bildvorschau (mit Click auf Bild auch schlie√üen)
    document.querySelectorAll('.gallery img').forEach(img => {
      img.addEventListener('click', () => {
        const modal = document.getElementById('modalOverlay');
        const modalImg = modal.querySelector('img');
        modalImg.src = img.src; modalImg.alt = img.alt;
        modal.classList.add('active');
        setTimeout(() => {
          modalImg.style.transform = 'scale(1.0)';
          modalImg.style.opacity = '1';
        }, 10);
        modalImg.onclick = closeModal;
      });
    });
    document.querySelector('#modalOverlay .closeModal').onclick = closeModal;
    document.getElementById('modalOverlay').onclick = function(e) { if (e.target === this) closeModal(); };
    document.addEventListener('keydown', function(e) { if (e.key === "Escape") closeModal(); });
    function closeModal() {
      const modal = document.getElementById('modalOverlay');
      const modalImg = modal.querySelector('img');
      modalImg.style.transform = 'scale(0.7)';
      modalImg.style.opacity = '0';
      setTimeout(() => { modal.classList.remove('active'); modalImg.src = ''; }, 180);
    }

    // Sommerfest-Countdown
    function updateSommerfestCountdown() {
      const target = new Date(2025, 7, 30, 14, 0, 0); // 30. August 2025, 14:00
      const now = new Date();
      let diff = target - now;
      if (diff < 0) {
        document.getElementById('sommerfest-countdown').innerText = "Das Sommerfest l√§uft!";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      diff -= days * 1000 * 60 * 60 * 24;
      const hours = Math.floor(diff / (1000 * 60 * 60));
      diff -= hours * 1000 * 60 * 60;
      const mins = Math.floor(diff / (1000 * 60));
      diff -= mins * 1000 * 60;
      const secs = Math.floor(diff / 1000);
      document.getElementById('sommerfest-countdown').innerText =
        days.toString().padStart(2, '0') + " Tage " +
        hours.toString().padStart(2, '0') + ":" +
        mins.toString().padStart(2, '0') + ":" +
        secs.toString().padStart(2, '0');
    }
    updateSommerfestCountdown();
    setInterval(updateSommerfestCountdown, 1000);

    // Besucherz√§hler counterapi.dev
    async function updateCounterInfo() {
      try {
        const [all, today, week, month] = await Promise.all([
          fetch("https://api.counterapi.dev/v1/webi-webermuehle/visits").then(r => r.json()),
          fetch("https://api.counterapi.dev/v1/webi-webermuehle-today/visits").then(r => r.json()),
          fetch("https://api.counterapi.dev/v1/webi-webermuehle-week/visits").then(r => r.json()),
          fetch("https://api.counterapi.dev/v1/webi-webermuehle-month/visits").then(r => r.json())
        ]);
        let text = `Seitenbesuche gesamt: ${all.count}<br>
        Heute: ${today.count}<br>
        Diese Woche: ${week.count}<br>
        Diesen Monat: ${month.count}`;
        document.getElementById("besucherinfo").innerHTML = text;
      } catch(e) {
        document.getElementById("besucherinfo").textContent = "Besucherz√§hler offline";
      }
    }
    // Z√§hler hochz√§hlen (aber erst DANN abfragen!)
    Promise.all([
      fetch("https://api.counterapi.dev/v1/webi-webermuehle/visits/incr"),
      fetch("https://api.counterapi.dev/v1/webi-webermuehle-today/visits/incr"),
      fetch("https://api.counterapi.dev/v1/webi-webermuehle-week/visits/incr"),
      fetch("https://api.counterapi.dev/v1/webi-webermuehle-month/visits/incr")
    ]).then(updateCounterInfo);
  </script>
</body>
</html>
