<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Verein Weberm√ºhle - Klosterr√ºti</title>
  <style>
    html, body {
      margin: 0;
      font-family: sans-serif;
      scroll-behavior: smooth;
      background: #fff;
      color: #222;
    }
    header {
      background: url('webermuehle-gesamt.jpg') center/cover no-repeat;
      height: 90vh;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3em;
      text-shadow: 2px 2px 5px black;
      position: relative;
      text-align: center;
      flex-direction: column;
    }
    .logos-left, .logos-right {
      position: absolute;
      top: 20px;
      height: 180px;
      z-index: 2;
    }
    .logos-left { left: 20px; }
    .logos-right { right: 20px; }
    .logos-left img, .logos-right img {
      height: 100%;
      cursor: pointer;
      transition: transform 0.3s;
      user-select: none;
    }
    .logos-left img:hover, .logos-right img:hover {
      transform: scale(1.05);
    }
    nav {
      position: sticky;
      top: 0;
      transition: top 0.7s cubic-bezier(.77,0,.18,1.05);
      background: #333;
      color: white;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1em;
      padding: 0.45em 1em;
      z-index: 10;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      line-height: 1.4;
    }
    nav button#themeSwitcher {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.15em;
      cursor: pointer;
      font-weight: bold;
      margin-left: 0.45em;
      padding: 0 0.18em;
      border-radius: 0.3em;
      outline: none;
      vertical-align: middle;
      line-height: 1.1;
      height: 1.25em;
      transition: color 0.22s, background 0.22s;
    }
    nav button#themeSwitcher:hover,
    nav button#themeSwitcher:focus {
      background: #444;
      color: #ffd700;
    }
    body.dark nav button#themeSwitcher {
      color: #ffe066;
      background: none;
    }
    body.dark nav button#themeSwitcher:hover,
    body.dark nav button#themeSwitcher:focus {
      background: #333;
      color: #ffe066;
    }
    section {
      padding: 4em 1em;
      max-width: 1000px;
      margin: auto;
    }
    h2 {
      border-bottom: 2px solid #ccc;
      padding-bottom: 0.5em;
    }
    /* --- Sommerfest Timer --- */
    .sommerfest-timer-container {
      position: absolute;
      left: 19vw;
      top: 32vh;
      transform: rotate(-10deg);
      z-index: 3;
      background: rgba(30,30,30,0.84);
      border-radius: 1.2em;
      box-shadow: 0 0 14px #0007;
      padding: 0.35em 1.2em 0.55em 1.2em;
      max-width: 58vw;
      color: #fff;
      text-align: center;
    }
    .sommerfest-label {
      color: #ffe067;
      font-size: 1.25em;
      font-weight: 900;
      letter-spacing: 0.03em;
      text-shadow: 1px 2px 6px #000d;
      margin-bottom: 0.13em;
      display: block;
    }
    .sommerfest-countdown {
      color: #fff;
      font-size: 1.2em;
      font-family: 'Consolas', 'Courier New', monospace;
      font-weight: 800;
      text-shadow: 1px 2px 10px #000b, 0 0 1em #ffb40344;
      letter-spacing: 0.03em;
      margin-top: 0.5em;
      display: block;
    }
    @media (max-width: 1000px) {
      .sommerfest-timer-container {
        left: 10vw;
        top: 20vh;
        max-width: 80vw;
        font-size: 0.95em;
      }
    }
    @media (max-width: 700px) {
      .logos-left, .logos-right {
        height: 100px;
        top: 10px;
      }
      nav {
        flex-direction: column;
        gap: 0.5em;
      }
      .sommerfest-timer-container {
        left: 5vw;
        top: 20vh;
        max-width: 90vw;
        padding: 0.18em 0.3em 0.5em 0.3em;
        font-size: 0.9em;
      }
      .gallery {
        flex-direction: column;
        align-items: center;
      }
      .spielgruppe-logo {
        justify-content: center;
      }
    }
    /* --- Galerie Bilder --- */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 1em;
    }
    .gallery img {
      width: 100%;
      aspect-ratio: 1/1;
      height: auto;
      object-fit: cover;
      border-radius: 8px;
      cursor: zoom-in;
      transition: box-shadow 0.2s, transform 0.25s cubic-bezier(.22,1,.36,1.07);
    }
    .gallery img:hover {
      box-shadow: 0 0 16px #444b;
      transform: scale(1.07);
    }
    /* --- Spielgruppe Logo --- */
    .spielgruppe-logo {
      display: flex;
      justify-content: flex-start;
      margin-bottom: 1em;
      margin-top: 0.5em;
    }
    .spielgruppe-logo img {
      max-height: 110px;
      height: auto;
      width: auto;
      display: block;
    }
    /* --- Kontakt Links (Telefon/Mail) --- */
    .contact-link, a[href^="mailto:"], a[href^="tel:"] {
      color: inherit !important;
      text-decoration: underline dotted #aaa !important;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.16s;
    }
    .contact-link:hover, a[href^="mailto:"]:hover, a[href^="tel:"]:hover {
      color: #888 !important;
      text-decoration: underline solid #888 !important;
    }
    /* --- Login Links --- */
    .login-links {
      text-align: center;
      font-size: 1.2em;
    }
    .login-links a {
      display: inline-block;
      margin: 1em;
      text-decoration: none;
      color: #0077cc;
      font-weight: bold;
    }
    .login-links a:hover {
      text-decoration: underline;
    }
    /* --- Modal f√ºr Bildvorschau --- */
    #modalOverlay {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.85);
      align-items: center;
      justify-content: center;
    }
    #modalOverlay.active { display: flex; }
    #modalOverlay img {
      max-width: 90vw;
      max-height: 85vh;
      border-radius: 12px;
      box-shadow: 0 0 30px #000b;
      background: #fff;
      object-fit: contain;
      transform: scale(0.7);
      opacity: 0;
      transition: transform 0.23s cubic-bezier(.22,1,.36,1.07), opacity 0.18s;
    }
    #modalOverlay.active img {
      transform: scale(1.0);
      opacity: 1;
    }
    #modalOverlay .closeModal {
      position: absolute;
      top: 30px; right: 45px;
      font-size: 3rem;
      color: #fff;
      cursor: pointer;
      font-family: Arial, sans-serif;
      z-index: 10;
      user-select: none;
    }
    /* --- Footer --- */
    footer {
      background: #f2f2f2;
      padding: 2em 1em;
      text-align: center;
      font-size: 0.9em;
      color: #222;
    }
    /* --- Darkmode --- */
    body.dark {
      background: #181a1b;
      color: #ddd;
    }
    body.dark header {
      color: #fff;
      text-shadow: 2px 2px 8px #111a;
    }
    body.dark nav {
      background: #222;
      color: #eee;
    }
    body.dark section, body.dark footer {
      background: #222;
      color: #ddd;
    }
    body.dark .sommerfest-timer-container {
      background: rgba(34,34,34,0.88);
      color: #fff9e7;
    }
  </style>
</head>
<body>
  <header>
    <a href="#" class="logos-left"><img src="verein-sofe-logo-w.png" alt="Logo SOFE Webi" /></a>
    <a href="#" class="logos-right"><img src="logo-qv-weiss.png" alt="Logo Quartierverein" /></a>
    <div>Willkommen in der Weberm√ºhle</div>
    <div class="sommerfest-timer-container">
      <span class="sommerfest-label">n√§chstes SOMMERFEST in</span>
      <span class="sommerfest-countdown" id="sommerfest-countdown">00 Tage 00:00:00</span>
    </div>
  </header>

  <nav>
    <a href="#historie">Historie</a>
    <a href="#partyraum">Partyraum</a>
    <a href="#rooftop">Rooftop</a>
    <a href="#fitness">Fitnessraum</a>
    <a href="#spielgruppe">Spielgruppe</a>
    <a href="#vereine">Vereine</a>
    <a href="#sommerfest">Sommerfest</a>
    <a href="#kontakt">Kontakt</a>
    <a href="#login">Login</a>
    <button id="themeSwitcher" aria-label="Theme wechseln">üåì</button>
  </nav>

  <!-- Historie -->
  <section id="historie">
    <h2>Historie der Weberm√ºhle</h2>
    <p>Die Weberm√ºhle in Neuenhof blickt auf eine bewegte Geschichte zur√ºck, die bis ins 19. Jahrhundert reicht...</p>
    <!-- ... Dein restlicher Text ... -->
    <div class="gallery">
      <img src="historie01.jpg" alt="Historisches Bild 1">
      <img src="historie02.jpg" alt="Historisches Bild 2">
      <!-- ... weitere Fotos ... -->
    </div>
  </section>

  <!-- Partyraum -->
  <section id="partyraum">
    <h2>Partyraum</h2>
    <p>Der Partyraum ... Ansprechpartner Michal Janƒçoviƒç, Tel. <a href="tel:+41767090801" class="contact-link">076 709 08 01</a>, 
      <a href="mailto:qv@webi.family" class="contact-link">Mail an Quartierverein</a></p>
    <div class="gallery">
      <img src="partyraum01.jpg" alt="Partyraum 1">
      <!-- ... weitere Fotos ... -->
    </div>
  </section>

  <!-- Rooftop -->
  <section id="rooftop">
    <h2>Rooftop</h2>
    <p>Unsere grosse Dachterrasse ist der perfekte Ort, um ...</p>
    <div class="gallery">
      <img src="rooftop-01.jpg" alt="Rooftop 01">
      <!-- ... weitere Fotos ... -->
    </div>
  </section>

  <!-- Fitnessraum -->
  <section id="fitness">
    <h2>Fitnessraum</h2>
    <div class="gallery">
      <img src="fitness1.jpg" alt="Fitnessraum 1">
    </div>
    <p>Im Fitnessraum ... <a href="mailto:qv@webi.family" class="contact-link">qv@webi.family</a></p>
  </section>

  <!-- Spielgruppe -->
  <section id="spielgruppe">
    <h2>Spielgruppe Zwergm√ºhle</h2>
    <div class="spielgruppe-logo">
      <img alt="zwergmuehle-logo.png" src="https://github.com/FitnessraumWM/webi-webseite/blob/main/zwergmuehle-logo.png?raw=true">
    </div>
    <p>Die Spielgruppe ... <br>
      Leitung: Sandra Adamovic, Tel. <a href="tel:+41764040685" class="contact-link">076 404 06 85</a>, 
      <a href="mailto:esiino@hotmail.com" class="contact-link">esiino@hotmail.com</a>
    </p>
    <div class="gallery">
      <img src="spielgruppe01.jpg" alt="Spielgruppe">
      <!-- ... weitere Fotos ... -->
    </div>
  </section>

  <!-- Vereine -->
  <section id="vereine">
    <h2>Vereine</h2>
    <p>Die Weberm√ºhle ist Heimat verschiedener Vereine ... 
      <a href="mailto:qv@webi.family" class="contact-link">qv@webi.family</a>,
      <a href="mailto:sommerfest@webi.family" class="contact-link">sommerfest@webi.family</a>
    </p>
  </section>

  <!-- Sommerfest -->
  <section id="sommerfest">
    <h2>Sommerfest Weberm√ºhle</h2>
    <p>Das Sommerfest ... <strong>Kontakt:</strong>
      <a href="mailto:sommerfest@webi.family" class="contact-link">sommerfest@webi.family</a>
    </p>
  </section>

  <!-- Kontakt -->
  <section id="kontakt">
    <h2>Kontakt</h2>
    <p>
      <strong>Quartierverein:</strong> <a href="mailto:qv@webi.family" class="contact-link">qv@webi.family</a><br>
      <strong>Partyraum:</strong> Michal Janƒçoviƒç, Tel. <a href="tel:+41767090801" class="contact-link">076 709 08 01</a><br>
      <strong>Spielgruppe:</strong> Sandra Adamovic, Tel. <a href="tel:+41764040685" class="contact-link">076 404 06 85</a>, 
      <a href="mailto:esiino@hotmail.com" class="contact-link">esiino@hotmail.com</a><br>
      <strong>Sommerfest/SOFE Webi:</strong> <a href="mailto:sommerfest@webi.family" class="contact-link">sommerfest@webi.family</a>
    </p>
  </section>

  <!-- Login -->
  <section id="login">
    <h2>Interner Bereich</h2>
    <div class="login-links">
      <p><a href="https://github.com/dein-verein" target="_blank" rel="noopener noreferrer">üîó GitHub Repository</a></p>
      <p><a href="https://mail.zoho.eu/zm/" target="_blank" rel="noopener noreferrer">üìß Vereins-E-Mail √∂ffnen</a></p>
    </div>
  </section>

  <footer>
    <div id="besucherinfo">Seitenbesuche: ...</div>
    &copy; 2025 Verein Weberm√ºhle &middot; Alle Rechte vorbehalten
  </footer>

  <!-- Modal f√ºr Bildvorschau -->
  <div id="modalOverlay">
    <span class="closeModal" title="Schlie√üen">&times;</span>
    <img src="" alt="Vorschau" />
  </div>

  <script>
    // Men√º Hide on Scroll, langsamere Animation
    let lastScrollY = window.scrollY;
    let nav = document.querySelector('nav');
    let navHidden = false;
    let navHeight = nav.offsetHeight;

    window.addEventListener('scroll', () => {
      if (window.scrollY > lastScrollY && window.scrollY > navHeight) {
        if (!navHidden) {
          nav.style.top = `-${navHeight + 30}px`;
          navHidden = true;
        }
      } else {
        if (navHidden) {
          nav.style.top = '0';
          navHidden = false;
        }
      }
      lastScrollY = window.scrollY;
    });

    // Theme Switcher inkl. Logo-Wechsel
    const themeBtn = document.getElementById('themeSwitcher');
    const body = document.body;
    const logos = {
      sofe: {
        hell: "verein-sofe-logo-w.png",
        dunkel: "verein-sofe-logo-s.png"
      },
      qv: {
        hell: "logo-qv-weiss.png",
        dunkel: "logo-qv-schwarz.png"
      }
    };
    function setTheme(mode) {
      if (mode === 'dark') {
        body.classList.add('dark');
        document.querySelector('.logos-left img').src = logos.sofe.dunkel;
        document.querySelector('.logos-right img').src = logos.qv.dunkel;
        localStorage.setItem('theme', 'dark');
        themeBtn.textContent = "üåû";
      } else {
        body.classList.remove('dark');
        document.querySelector('.logos-left img').src = logos.sofe.hell;
        document.querySelector('.logos-right img').src = logos.qv.hell;
        localStorage.setItem('theme', 'light');
        themeBtn.textContent = "üåô";
      }
    }
    themeBtn.onclick = () => {
      setTheme(body.classList.contains('dark') ? 'light' : 'dark');
    };
    (function() {
      const theme = localStorage.getItem('theme') ||
        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      setTheme(theme);
    })();

    // Modale Bildvorschau (Lightbox) mit Zoom-Animation
    document.querySelectorAll('.gallery img').forEach(img => {
      img.addEventListener('click', () => {
        const modal = document.getElementById('modalOverlay');
        const modalImg = modal.querySelector('img');
        modalImg.src = img.src;
        modalImg.alt = img.alt;
        modalImg.style.transform = 'scale(0.7)';
        modalImg.style.opacity = '0';
        modal.classList.add('active');
        setTimeout(() => {
          modalImg.style.transform = 'scale(1.0)';
          modalImg.style.opacity = '1';
        }, 10);
      });
    });
    document.querySelector('#modalOverlay .closeModal').onclick = function() { closeModal(); };
    document.getElementById('modalOverlay').onclick = function(e) { if (e.target === this) closeModal(); };
    document.addEventListener('keydown', function(e) { if (e.key === "Escape") closeModal(); });
    function closeModal() {
      const modal = document.getElementById('modalOverlay');
      const modalImg = modal.querySelector('img');
      modalImg.style.transform = 'scale(0.7)';
      modalImg.style.opacity = '0';
      setTimeout(() => {
        modal.classList.remove('active');
        modalImg.src = '';
      }, 180);
    }

    // Sommerfest Countdown
    function updateSommerfestCountdown() {
      // Ziel: 30. August 2025, 14:00
      const target = new Date(2025, 7, 30, 14, 0, 0);
      const now = new Date();
      let diff = target - now;
      if (diff < 0) {
        document.getElementById('sommerfest-countdown').innerText = "Das Sommerfest l√§uft!";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      diff -= days * 1000 * 60 * 60 * 24;
      const hours = Math.floor(diff / (1000 * 60 * 60));
      diff -= hours * 1000 * 60 * 60;
      const mins = Math.floor(diff / (1000 * 60));
      diff -= mins * 1000 * 60;
      const secs = Math.floor(diff / 1000);
      document.getElementById('sommerfest-countdown').innerText =
        days.toString().padStart(2, '0') + " Tage " +
        hours.toString().padStart(2, '0') + ":" +
        mins.toString().padStart(2, '0') + ":" +
        secs.toString().padStart(2, '0');
    }
    updateSommerfestCountdown();
    setInterval(updateSommerfestCountdown, 1000);

    // Besucherz√§hler
    async function updateCounterInfo() {
      const res = await fetch("https://api.counterapi.dev/v1/webi-webermuehle/visits");
      const data = await res.json();
      let text = "Seitenbesuche gesamt: " + data.count;
      const [today, week, month] = await Promise.all([
        fetch("https://api.counterapi.dev/v1/webi-webermuehle-today/visits").then(r => r.json()),
        fetch("https://api.counterapi.dev/v1/webi-webermuehle-week/visits").then(r => r.json()),
        fetch("https://api.counterapi.dev/v1/webi-webermuehle-month/visits").then(r => r.json())
      ]);
      text += "<br>Heute: " + today.count +
              "<br>Diese Woche: " + week.count +
              "<br>Diesen Monat: " + month.count;
      document.getElementById("besucherinfo").innerHTML = text;
    }
    // Hochz√§hlen bei Seitenaufruf
    fetch("https://api.counterapi.dev/v1/webi-webermuehle/visits/incr");
    fetch("https://api.counterapi.dev/v1/webi-webermuehle-today/visits/incr");
    fetch("https://api.counterapi.dev/v1/webi-webermuehle-week/visits/incr");
    fetch("https://api.counterapi.dev/v1/webi-webermuehle-month/visits/incr");
    updateCounterInfo();
  </script>
</body>
</html>
