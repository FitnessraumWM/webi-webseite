<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Verein Weberm√ºhle - Klosterr√ºti</title>
  <style>
    :root {
      --nav-height: 58px;
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: #fff;
      color: #222;
      scroll-behavior: smooth;
    }

    /* =======================
          HEADER & LOGOS
    ======================== */
    header {
      background: url('webermuehle-gesamt.jpg') center/cover no-repeat;
      height: 90vh;
      color: #fff;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
    }
    .logos-left, .logos-right {
      position: absolute;
      top: 20px;
      height: 160px;
      z-index: 3;
    }
    .logos-left { left: 20px; }
    .logos-right { right: 20px; }
    .logos-left img, .logos-right img {
      height: 100%;
      user-select: none;
      pointer-events: none;
    }

    /* =======================
            TIMER-BANNER
    ======================== */
    .sommerfest-timer-container {
      position: absolute;
      left: 14vw;
      top: 34vh;     /* Feinjustierung: Je kleiner, desto h√∂her */
      transform: rotate(-10deg);
      z-index: 6;
      background: rgba(30,30,30,0.82);
      border-radius: 1.2em;
      box-shadow: 0 0 14px #0007;
      padding: 0.3em 1.2em;
      max-width: 66vw;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .sommerfest-label {
      color: #ffe067;
      font-size: 1.18em;
      font-weight: 900;
      letter-spacing: 0.01em;
      text-shadow: 1px 2px 6px #000d;
      margin-bottom: 0.18em;
      margin-top: 0.05em;
    }
    .sommerfest-countdown {
      color: #fff;
      font-size: 1.04em;
      font-family: 'Consolas', 'Courier New', monospace;
      font-weight: 700;
      text-shadow: 1px 2px 10px #000b, 0 0 1em #ffb40344;
      letter-spacing: 0.03em;
    }

    /* Willkommen */
    header > div:not(.sommerfest-timer-container) {
      margin-top: 38vh;
      font-size: 2.8em;
      font-weight: 700;
      text-shadow: 2px 2px 6px #000b;
      z-index: 1;
      position: relative;
    }

    /* =======================
               NAV
    ======================== */
    nav {
      position: sticky;
      top: 0;
      transition: top 0.7s cubic-bezier(.77,0,.18,1.05);
      background: #333;
      color: white;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1em;
      padding: 0.48em 1em;
      z-index: 20;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      line-height: 1.45;
      font-size: 1.14em;
      transition: color .2s;
      position: relative;
    }
    nav a:hover,
    nav a:focus {
      color: #ffd700;
      text-decoration: underline solid #ffd700 0.12em;
      text-underline-offset: 4px;
    }
    nav button#themeSwitcher {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.22em;
      cursor: pointer;
      margin-left: 0.5em;
      border-radius: 0.32em;
      vertical-align: middle;
      padding: 0 0.2em;
      line-height: 1.1;
      height: 1.4em;
      transition: color 0.22s, background 0.22s;
      display: flex; align-items: center; justify-content: center;
    }
    nav button#themeSwitcher:hover,
    nav button#themeSwitcher:focus {
      background: #444;
      color: #ffd700;
    }

    /* =======================
            SECTIONS
    ======================== */
    section {
      padding: 4em 1em;
      max-width: 1000px;
      margin: auto;
    }
    h2 {
      border-bottom: 2px solid #ccc;
      padding-bottom: 0.5em;
    }

    /* =======================
        GALLERY + MODAL
    ======================== */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 1em;
    }
    .gallery img {
      width: 100%;
      aspect-ratio: 1/1;
      object-fit: cover;
      border-radius: 8px;
      cursor: zoom-in;
      transition: box-shadow 0.2s, transform 0.25s cubic-bezier(.22,1,.36,1.07);
    }
    .gallery img:hover {
      box-shadow: 0 0 16px #444b;
      transform: scale(1.07);
    }
    /* Modal */
    #modalOverlay {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.85);
      align-items: center;
      justify-content: center;
    }
    #modalOverlay.active { display: flex; }
    #modalOverlay img {
      max-width: 90vw; max-height: 85vh;
      border-radius: 12px;
      box-shadow: 0 0 30px #000b;
      background: #fff;
      object-fit: contain;
      transform: scale(0.7);
      opacity: 0;
      transition: transform 0.23s cubic-bezier(.22,1,.36,1.07), opacity 0.18s;
    }
    #modalOverlay.active img {
      transform: scale(1.0); opacity: 1;
    }
    #modalOverlay .closeModal {
      position: absolute;
      top: 30px; right: 45px;
      font-size: 3rem;
      color: #fff;
      cursor: pointer;
      font-family: Arial, sans-serif;
      z-index: 10;
      user-select: none;
    }

    /* =======================
        LOGO SPIELGRUPPE
    ======================== */
    .spielgruppe-logo {
      display: flex;
      justify-content: flex-start;
      margin-bottom: 1em;
      margin-top: 0.5em;
    }
    .spielgruppe-logo img {
      max-height: 150px;
      height: auto;
      width: auto;
      display: block;
    }

    /* =======================
            CONTACT-LINKS
    ======================== */
    .contact-link,
    a[href^="mailto:"],
    a[href^="tel:"] {
      color: inherit !important;
      text-decoration: underline dotted #aaa;
      font-weight: bold;
      cursor: pointer;
      transition: color .18s;
    }
    .contact-link:hover,
    a[href^="mailto:"]:hover,
    a[href^="tel:"]:hover {
      color: #888;
      text-decoration: underline solid #888;
    }

    /* =======================
              LOGIN-LINKS
    ======================== */
    .login-links {
      text-align: center;
      font-size: 1.18em;
    }
    .login-links a {
      display: inline-block;
      margin: 1em;
      text-decoration: none;
      color: #0077cc;
      font-weight: bold;
    }
    .login-links a:hover {
      text-decoration: underline;
    }

    /* =======================
            FOOTER
    ======================== */
    footer {
      background: #f2f2f2;
      padding: 2em 1em;
      text-align: center;
      font-size: 0.99em;
    }
    #besucherinfo {
      margin-bottom: 0.3em;
      color: #888;
      font-size: 0.97em;
    }

    /* =======================
         RESPONSIVE DESIGN
    ======================== */
    @media (max-width: 900px) {
      .sommerfest-timer-container {
        left: 8vw; top: 32vh; max-width: 90vw; font-size: 0.97em;
      }
      header > div:not(.sommerfest-timer-container) {
        margin-top: 35vh; font-size: 2.1em;
      }
      .logos-left, .logos-right { height: 110px; top: 10px; }
      nav { flex-direction: column; gap: 0.5em; }
      .spielgruppe-logo { justify-content: center; }
    }
    @media (max-width: 600px) {
      .sommerfest-timer-container { left: 3vw; top: 24vh; max-width: 94vw; font-size: 0.88em; }
      header > div:not(.sommerfest-timer-container) { margin-top: 29vh; font-size: 1.27em; }
      .logos-left, .logos-right { height: 70px; top: 6px; }
    }

    /* =======================
            DARK MODE
    ======================== */
    body.dark { background: #181a1b; color: #ddd; }
    body.dark header { color: #fff; text-shadow: 2px 2px 8px #111a; }
    body.dark nav { background: #222; color: #eee; }
    body.dark section, body.dark footer { background: #222; color: #ddd; }
    body.dark .sommerfest-timer-container { background: rgba(36,36,36,0.89); }
    body.dark .contact-link,
    body.dark a[href^="mailto:"],
    body.dark a[href^="tel:"] { color: #fff !important; }
  </style>
</head>

<body>

  <header>
    <a href="#" class="logos-left"><img src="verein-sofe-logo-w.png" alt="Logo SOFE Webi" /></a>
    <a href="#" class="logos-right"><img src="logo-qv-weiss.png" alt="Logo Quartierverein" /></a>
    <div class="sommerfest-timer-container">
      <span class="sommerfest-label">n√§chstes SOMMERFEST in</span>
      <span class="sommerfest-countdown" id="sommerfest-countdown">00 Tage 00:00:00</span>
    </div>
    <div>Willkommen in der Weberm√ºhle</div>
  </header>

  <nav>
    <a href="#historie">Historie</a>
    <a href="#partyraum">Partyraum</a>
    <a href="#rooftop">Rooftop</a>
    <a href="#fitness">Fitnessraum</a>
    <a href="#spielgruppe">Spielgruppe</a>
    <a href="#vereine">Vereine</a>
    <a href="#sommerfest">Sommerfest</a>
    <a href="#kontakt">Kontakt</a>
    <a href="#login">Login</a>
    <button id="themeSwitcher" aria-label="Theme wechseln">üåô</button>
  </nav>

  <!-- ==== SECTIONS: Historie, Partyraum, ... ==== -->
  <section id="historie">
    <h2>Historie der Weberm√ºhle</h2>
    <p>Die Weberm√ºhle in Neuenhof blickt auf eine bewegte Geschichte zur√ºck, die bis ins 19. Jahrhundert reicht...</p>
    <!-- ... Restliche Inhalte und Galerie ... -->
  </section>
  <!-- ... ALLE WEITEREN SECTIONS UNVER√ÑNDERT wie zuvor ... -->
  <!-- SPIELGRUPPE mit Logo -->
  <section id="spielgruppe">
    <h2>Spielgruppe Zwergm√ºhle</h2>
    <div class="spielgruppe-logo">
      <img alt="Logo Zwergm√ºhle" src="https://github.com/FitnessraumWM/webi-webseite/blob/main/zwergmuehle-logo.png?raw=true">
    </div>
    <!-- ... Text ... -->
  </section>
  <!-- SOMMERFEST Section -->
  <section id="sommerfest">
    <h2>Sommerfest Weberm√ºhle</h2>
    <!-- ... Text ... -->
  </section>
  <!-- ... und so weiter ... -->

  <footer>
    <div id="besucherinfo">Seitenbesuche: ...</div>
    &copy; 2025 Verein Weberm√ºhle &middot; Alle Rechte vorbehalten
  </footer>

  <!-- Modal f√ºr Bildvorschau -->
  <div id="modalOverlay">
    <span class="closeModal" title="Schlie√üen">&times;</span>
    <img src="" alt="Vorschau" />
  </div>

  <script>
    // Men√º Hide on Scroll
    let lastScrollY = window.scrollY;
    let nav = document.querySelector('nav');
    let navHidden = false;
    let navHeight = nav.offsetHeight;
    window.addEventListener('scroll', () => {
      if (window.scrollY > lastScrollY && window.scrollY > navHeight) {
        if (!navHidden) { nav.style.top = `-${navHeight + 30}px`; navHidden = true; }
      } else {
        if (navHidden) { nav.style.top = '0'; navHidden = false; }
      }
      lastScrollY = window.scrollY;
    });

    // Theme Switcher inkl. Logo-Wechsel
    const themeBtn = document.getElementById('themeSwitcher');
    const body = document.body;
    const logos = {
      sofe: { hell: "verein-sofe-logo-w.png", dunkel: "verein-sofe-logo-s.png" },
      qv:   { hell: "logo-qv-weiss.png",     dunkel: "logo-qv-schwarz.png" }
    };
    function setTheme(mode) {
      if (mode === 'dark') {
        body.classList.add('dark');
        document.querySelector('.logos-left img').src = logos.sofe.dunkel;
        document.querySelector('.logos-right img').src = logos.qv.dunkel;
        localStorage.setItem('theme', 'dark');
        themeBtn.textContent = "üåû";
      } else {
        body.classList.remove('dark');
        document.querySelector('.logos-left img').src = logos.sofe.hell;
        document.querySelector('.logos-right img').src = logos.qv.hell;
        localStorage.setItem('theme', 'light');
        themeBtn.textContent = "üåô";
      }
    }
    themeBtn.onclick = () => { setTheme(body.classList.contains('dark') ? 'light' : 'dark'); };
    (function() {
      const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      setTheme(theme);
    })();

    // Modale Bildvorschau
    document.querySelectorAll('.gallery img').forEach(img => {
      img.addEventListener('click', () => {
        const modal = document.getElementById('modalOverlay');
        const modalImg = modal.querySelector('img');
        modalImg.src = img.src; modalImg.alt = img.alt;
        modalImg.style.transform = 'scale(0.7)';
        modalImg.style.opacity = '0';
        modal.classList.add('active');
        setTimeout(() => { modalImg.style.transform = 'scale(1.0)'; modalImg.style.opacity = '1'; }, 10);
      });
    });
    document.querySelector('#modalOverlay .closeModal').onclick = closeModal;
    document.getElementById('modalOverlay').onclick = function(e) { if (e.target === this) closeModal(); };
    document.addEventListener('keydown', function(e) { if (e.key === "Escape") closeModal(); });
    function closeModal() {
      const modal = document.getElementById('modalOverlay');
      const modalImg = modal.querySelector('img');
      modalImg.style.transform = 'scale(0.7)';
      modalImg.style.opacity = '0';
      setTimeout(() => { modal.classList.remove('active'); modalImg.src = ''; }, 180);
    }

    // Sommerfest Countdown
    function updateSommerfestCountdown() {
      // 30. August 2025, 14:00 (lokal)
      const target = new Date(2025, 7, 30, 14, 0, 0);
      const now = new Date();
      let diff = target - now;
      if (diff < 0) {
        document.getElementById('sommerfest-countdown').innerText = "Das Sommerfest l√§uft!";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24)); diff -= days * 1000 * 60 * 60 * 24;
      const hours = Math.floor(diff / (1000 * 60 * 60)); diff -= hours * 1000 * 60 * 60;
      const mins = Math.floor(diff / (1000 * 60)); diff -= mins * 1000 * 60;
      const secs = Math.floor(diff / 
